<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
     <title>x3dom js test</title> 
     <script type="text/javascript" src="./x3dom.js"> </script> 
     <link rel="stylesheet" type="text/css" href="./x3dom.css"> 
     <link rel="stylesheet" type="text/css" href="./uTime3d.css"> 
     <script type="text/javascript" src="./uTime3d.js"> </script> 
     
   </head> 
   <body> 

    <h1>Parallel Timelines Project</h1>
    <p>
      Virtual (VR) and Real Life (IRL) Learning Environments
    </p>

    <video width="640" height="360" controls>
      <source src="./videos/ParallelTimelinesVideo.mp4" type="video/quicktime">
      Your browser does not support the video tag.
    </video>

    <h2>Proof of Concept</h2>
    
    <p>Experiments with web-based 3d: primitive shapes using X3DOM. Interactivity tests (click objects to change color, play movie, or play sound.</p>

    <p>
      Tests:
      <ul>
        <li><a href="basicBox.html">basicBox.html</a>: Basic box template</li>
        <!-- <li><a href="navTest.html">navTest.html</a>: Navigation test</li> -->
        <!-- <li><a href="hall.html">hall.html</a>:Timeline hallway.</li> -->
        <li><a href="hallway.html">hallway.html</a>:Timeline hallway (by Max and Millie).</li>
        <li><a href="wall.html">wall.html</a>: shark wall proto.</li>
      </ul>
      Timeline Maker (WIP): <a href="timelineinator-2d.html">timelineinator</a>
     </p>


     <hr>
     Demo: Click upper left box to play video, lower left ball to play sound, cylinder to change its color. Clicking the cone takes you to the hallway.html scene.<br>
     <input type="button" value="Show Axes" id="showAxes">
     
     <br>

     <div id="viewButtonArea"></div>

     <div id="x3Spot"></div>


     

     <p> 
       <h3>Using uTime3d.js:</h3>

        Primatives
        <ul>
          <li>Sphere: set color, translate, and add sound on click</li>
            <div class="codeBlock"><pre><code>
              sphere.setColor(10, 150, 255);
              sphere.translate(-2.5,0,0);
              sphere.addSound('./sounds/under-water-splash-3.mp3')
              u3x.add(sphere);
            </code></pre></div>

          <li>Cone: set color, make cone a link</li>
            <div class="codeBlock"><pre><code>
              cone = new uCone();
              cone.setColor(255, 150, 10);
              u3x.add(cone);
            </code></pre></div>
            To make the cone a link you need to add the following to the document.onload function:
            <div class="codeBlock"><pre><code>
              cone.addLink("hallway.html");
            </code></pre></div>

          <li>Cylinder: translate, click to change color</li>
            <div class="codeBlock"><pre><code>
                cylinder = new uCylinder();
                cylinder.translate(0, 2, 0);
                u3x.add(cylinder);
                // Handle click event
                document.onload = function() {
                  cylinder.div.addEventListener('click', function(event) {
                    cylinder.setColor(0,200,20)
                  }, false); 
                }
            </code></pre></div>
          <li>box: add a texture from an image, translate, rotate</li>
            <div class="codeBlock"><pre><code>
                box = new uBox();
                box.addTexture("./images/Gouache-bleue-blue.png")
                box.translate(2.5, 0, 0);
                box.rotate(0,30,30);
                u3x.add(box);
            </code></pre></div>
          <li>Video: box with video texture that plays on click</li>
            <div class="codeBlock"><pre><code>
                vidBox = new uBox();
                vidBox.translate(-2.5, 2.5, 0);
                vidBox.addVideo("./videos/320533_tiny.mp4");
                u3x.add(vidBox);
            </code></pre></div>
            Note: For the video to play on click, you also have to add setClickListener in the document.onload function.
            <div class="codeBlock"><pre><code>
                vidBox.video.setClickListener(vidBox);
            </code></pre></div>
            
          <li>line: Draw triangle and set color</li>
            <div class="codeBlock"><pre><code>
                line = addLine([[-3,-2,0],[-1,-2,0],[-2,-1.5,0],[-3,-2,0]]);
                line.setEmissiveColor(20,200,0);
                u3x.add(line);
            </code></pre></div>
          <li>axes: Draw xyz axes</li>
            <div class="codeBlock"><pre><code>
                xyzAxes = new uAxes();
                xyzAxes.translate(0,-2, 0);
                u3x.add(xyzAxes);
            </code></pre></div>

        </ul>
     </p> 



     
	
     
    <div>
      Resources:
      <ul>
        <li>Blue texture: By Emmanuel Boutet - Own work, CC BY-SA 3.0, <a href="https://commons.wikimedia.org/w/index.php?curid=1459033">https://commons.wikimedia.org/w/index.php?curid=1459033</a></li>
        <li>Shark vid: Video by <a href="https://pixabay.com/users/yocchi09-22039991/?utm_source=link-attribution&utm_medium=referral&utm_campaign=video&utm_content=320533">Yocchi09</a> from <a href="https://pixabay.com//?utm_source=link-attribution&utm_medium=referral&utm_campaign=video&utm_content=320533">Pixabay</a></li>
        <li>Under Water Splash 3 by Hampusnoren -- <a href="https://freesound.org/s/147180/">https://freesound.org/s/147180/</a> -- License: Attribution 4.0</li>
      </ul>

      Refs:
      <ul>
        <li>
          uTime3d.js Repository: <a href="https://github.com/lurbano/uTime3d"> https://github.com/lurbano/uTime3d</a> 
        </li>
        <li>
          API: <a href="https://doc.x3dom.org/author/index.html">X3DOM Scene Author API</a>
        </li>
        <li>
          Node Reference: <a href="https://doc.x3dom.org/author/nodes.html">X3DOM Nodes</a>
        </li>
      </ul>
      
      
      
    </div>
 
</body>


<script>

  spot = document.getElementById("x3Spot");

  u3x = new ux3d("x3Spot", {
    width: "800px",
    height: "500px"
  });

  //VIEWS
  view1 = new uViewpoint({
    description: "StartView"
  })

  u3x.add(view1);
  view1.addButton(document.getElementById("viewButtonArea"));

  view2 = new uViewpoint({
    id:"top_cam",
    description: "top_cam",
    orientation:"-0.98675 0.16035 0.02462 1.28837",
    position:"1.36474 9.50507 2.79127",
    fieldofview: "0.78540",
    centerofrotation: "0,0,0",
    znear:"-1",
    zfar:"-1"
  });
  u3x.add(view2); 
  view2.addButton(document.getElementById("viewButtonArea"));

  //BOXES
  box = new uBox()
  box.addTexture("./images/Gouache-bleue-blue.png")

  u3x.add(box)

  box.translate(2.5, 0, 0);
  box.rotate(0,30,30);

  // VIDEO BOX
  vidBox = new uBox();
  vidBox.translate(-2.5, 2.5, 0);
  vidBox.addVideo("./videos/320533_tiny.mp4")

  u3x.add(vidBox);

  //SPHERE
  sphere = new uSphere();
  sphere.setColor(10, 150, 255);
  sphere.translate(-2.5,0,0);
  sphere.addSound('./sounds/under-water-splash-3.mp3')

  u3x.add(sphere);

  //CONE
  cone = new uCone();
  cone.setColor(255, 150, 10);
  
  u3x.add(cone);

  //CYLINDER
  cylinder = new uCylinder();
  cylinder.translate(0, 2, 0);
  u3x.add(cylinder);


  //AXES
  xyzAxes = new uAxes();
  xyzAxes.translate(0,-2, 0);
  u3x.add(xyzAxes);

  //LINE
  line = addLine([[-3,-2,0],[-1,-2,0],[-2,-1.5,0],[-3,-2,0]])
  line.setEmissiveColor(20,200,0)
  u3x.add(line);

  spot.appendChild(u3x.elem);


  document.onload = function() {
      // Handle mouseover event on a shape
      cylinder.div.addEventListener('click', function(event) {
              cylinder.setColor(0,200,20)
          }, false);


      // document.getElementById("resetView").addEventListener("click", function(){
      //   view1.bind();
      // })

      document.getElementById("showAxes").addEventListener("click", function(){
        xyzAxes.switchVisibility();
      })

      vidBox.video.setClickListener(vidBox);
      
      sphere.sound.setClickListener(sphere);

      cone.addLink('hallway.html')

  };
    
</script>





</html>

